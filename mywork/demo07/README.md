# demo07文件说明
- 其中`tmp`文件夹是使用fresh实现热加载生成的文件夹 https://github.com/gravityblast/fresh
- 简单实现对从客户端发来的post请求中携带的json进行schema校验,并进行简单权限控制。
- 通过使用json path来获取客户端传来的json中`datatype`这个键所对应的值，然后通过这个值与配置文件`config.yaml`中的`name`字段进行比较，然后找到schema文件路径。
- post请求头中携带有base64编码的证书，在服务端通过x509对这个证书进行解析，拿到其中的`Organization`字段，然后通过读取的组织信息和配置文件`config.yaml`中的字段`Role`进行比较，查找配置文件中是否有该组织，如果有该组织那么检查该组织是否有权限访问该接口。
- post请求发送的json为
{
    "ContractId": "5464",
    "ContractType": "maishen",
    "Terms": [
        "google",
        "baidu"
    ],
    "Timestamp": 54654,
    "datatype": "Contract"
}

- 证书头：
LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkekNDQWh5Z0F3SUJBZ0lEQ21aZk1Bb0dDQ3FHU000OUJBTUNNSUdLTVFzd0NRWURWUVFHRXdKRFRqRVEKTUE0R0ExVUVDQk1IUW1WcGFtbHVaekVRTUE0R0ExVUVCeE1IUW1WcGFtbHVaekVmTUIwR0ExVUVDaE1XZDNndApiM0puTVM1amFHRnBibTFoYTJWeUxtOXlaekVTTUJBR0ExVUVDeE1KY205dmRDMWpaWEowTVNJd0lBWURWUVFECkV4bGpZUzUzZUMxdmNtY3hMbU5vWVdsdWJXRnJaWEl1YjNKbk1CNFhEVEl5TURjeE5qRXpNelF3T1ZvWERUSTMKTURjeE5URXpNelF3T1Zvd2dZOHhDekFKQmdOVkJBWVRBa05PTVJBd0RnWURWUVFJRXdkQ1pXbHFhVzVuTVJBdwpEZ1lEVlFRSEV3ZENaV2xxYVc1bk1SOHdIUVlEVlFRS0V4WjNlQzF2Y21jeExtTm9ZV2x1YldGclpYSXViM0puCk1RNHdEQVlEVlFRTEV3VmhaRzFwYmpFck1Da0dBMVVFQXhNaVlXUnRhVzR4TG5OcFoyNHVkM2d0YjNKbk1TNWoKYUdGcGJtMWhhMlZ5TG05eVp6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJCeTdhajh3enRTQQpOVEY2eVdIaGY4QWx1MFQ0bkc5ZlBDOFcrT1NvZ2M2MGJtc0hSQWJ1bXZOc3Vqa1JFM2laOWM3LzljT3hxVkdRCmpuenZIZ20rYTFxamFqQm9NQTRHQTFVZER3RUIvd1FFQXdJR3dEQXBCZ05WSFE0RUlnUWdMWmx5MHo2eTc1YzMKWXFTRks5MGpNWXh5UVdZSk0zN2EwNTk1QkZsL3paWXdLd1lEVlIwakJDUXdJb0FnMWhLQzJkUHIwOVJJd3JocgozVldvbFdBbHRySCtFVU9vdXBad1RlMi9iYnd3Q2dZSUtvWkl6ajBFQXdJRFNRQXdSZ0loQUlkZFgzRHhZM2ptCkNmS2w1ZzhwRHpZekFmcWZHOEZlSXBpb2JxUlJ1YXJrQWlFQWpGTmZ1ckRQdnF2dTF5dE5Ua04ydEcvN2RiMDIKYlBLU0l2QSt0UDhoNEk0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==

